webpackJsonp([31],{"6zzU":function(e,t,n){"use strict";var i=n("fZjL"),o=n.n(i),r=n("mvHQ"),a=n.n(r),s=n("Xxa5"),u=n.n(s),c=n("exGp"),p=n.n(c),d=n("W4G+"),l=n("Av7u"),f=n.n(l),m={RA72:"Xiaomi_",RA70:"Xiaomi_",RA50:"Redmi_",RA74:"Redmi_",RA80:"Xiaomi_",RA81:"Redmi_",RA82:"Xiaomi_",RA83:"Xiaomi_",RB01:"Xiaomi_"},g=n("mtWM"),w=n.n(g);t.a={goBack:function(e){e.$router.back(-1)},detectDevice:function(){var e=function(){var e=navigator.userAgent;navigator.appVersion;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari")}}();(navigator.browserLanguage||navigator.language).toLowerCase();return e.mobile||e.ios||e.android||e.iPhone||e.iPad?e.ios?"ios":"android":"notmobile"},setInitLog:function(e){var t=this;return p()(u.a.mark(function n(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.b)(e);case 2:t.sent.data.code;case 4:case"end":return t.stop()}},n,t)}))()},setCookie:function(e,t,n){if(window.localStorage){if(null!=n&&0!=n){var i=null;try{i=JSON.parse(t)}catch(e){i={defaultname:t}}return(o=new Date).setTime(o.getTime()+24*n*3600*1e3),i.expires=o.getTime(),void window.localStorage.setItem(e,a()(i))}window.localStorage.setItem(e,t)}else{var o;if(n<0)return(o=new Date).setTime(o.getTime()-1e3),void(document.cookie=e+"="+escape(t)+";expires="+o.toUTCString());if(n>0)(o=new Date).setTime(o.getTime()+24*n*3600*1e3),document.cookie=e+"="+escape(t)+";expires="+o.toUTCString()+";path=/";else document.cookie=e+"="+escape(t)+";path=/"}},getCookie:function(e){if(window.localStorage){var t=window.localStorage.getItem(e);if(null!=t&&""!=t)try{var n=JSON.parse(t),i=n.expires;if(null!=i&&""!=i)return(new Date).getTime()-i>0?(window.localStorage.removeItem(e),""):null==n.defaultname||""==n.defaultname?"":n.defaultname}catch(e){}return t}if(document.cookie.length>0){var o=document.cookie,r=o.indexOf(e);if(-1==r)return"";var a=o.indexOf(";",r);return(a=-1)&&(a=o.length),unescape(o.substring(r+e.length+1,a))}return""},Encrypt:{key:"a2ffa5c9be07488bbb04a3a47d3c5f6a",iv:"64175472480004614961023454661220",nonce:null,getCookie:function(){if(window.localStorage){var e=window.localStorage.getItem(name);if(null!=e&&""!=e)try{var t=JSON.parse(e),n=t.expires;if(null!=n&&""!=n)return(new Date).getTime()-n>0?(window.localStorage.removeItem(name),""):null==t.defaultname||""==t.defaultname?"":t.defaultname}catch(e){}return e}if(document.cookie.length>0){var i=document.cookie,o=i.indexOf(name);if(-1==o)return"";var r=i.indexOf(";",o);return(r=-1)&&(r=i.length),unescape(i.substring(o+name.length+1,r))}return""},init:function(){var e=this.nonceCreat();return this.nonce=e,this.nonce},nonceCreat:function(){return[0,this.getCookie("mac")||"",Math.floor((new Date).getTime()/1e3),Math.floor(1e4*Math.random())].join("_")},oldPwd:function(e){return 1==window.localStorage.getItem("newEncryptMode")?f.a.SHA256(this.nonce+f.a.SHA256(e+this.key).toString()).toString():f.a.SHA1(this.nonce+f.a.SHA1(e+this.key).toString()).toString()},newPwd:function(e,t){var n=f.a.SHA1(e+this.key).toString(),i=f.a.SHA1(t+this.key).toString();n=(n=f.a.enc.Hex.parse(n).toString()).substr(0,32),n=f.a.enc.Hex.parse(n);var o=f.a.enc.Hex.parse(this.iv);return f.a.AES.encrypt(i,n,{iv:o,mode:f.a.mode.CBC,padding:f.a.pad.Pkcs7}).toString()},newPwd256:function(e,t){var n=f.a.SHA256(e+this.key).toString(),i=f.a.SHA256(t+this.key).toString();n=(n=f.a.enc.Hex.parse(n).toString()).substr(0,32),n=f.a.enc.Hex.parse(n);var o=f.a.enc.Hex.parse(this.iv);return f.a.AES.encrypt(i,n,{iv:o,mode:f.a.mode.CBC,padding:f.a.pad.Pkcs7}).toString()}},formatSsidName:function(e,t){var n=void 0;if(-1!=e.indexOf("-")){var i=e.substring(e.length-4).toUpperCase(),o=(n=e.split("-")[2]).split("_")[0].toUpperCase();e=m[o]+i}else{if(3==(n=e.split("_")).length)if("Xiaomi"==n[0]||"Redmi"==n[0])parseInt("FFFF",16)-parseInt(n[1],16)==parseInt(n[2],16)&&(e=n[0]+"_"+n[1]);else if(t){e=t+"_"+e.split("_")[2].toUpperCase()}}return e},pint:function(e){return parseInt(e,10)},secondToHour:function(e){var t=this.pint(e/3600),n=this.pint(60*(parseFloat(e/3600)-t));return t+"小时"+n+"分"+(this.pint(e)-3600*t-60*n)+"秒"},secondToDate:function(e){var t,n=parseFloat(e);return null!==n&&""!==n&&(n>60&&n<3600?n=this.pint(n/60)+"分"+this.pint(60*(parseFloat(n/60)-this.pint(n/60,10)))+"秒":n>=3600&&n<86400?n=this.secondToHour(n):n>=86400?(n-=3600*(t=this.pint(n/86400))*24,n=t+"天"+this.secondToHour(n)):n=this.pint(n)+"秒"),n},routerpwdVlaueCheck:function(e){var t="[A-Z]",n="[0-9]",i="[\\u0020-\\u002F\\u003A-\\u0040\\u005B-\\u0060\\u007B-\\u007E]";function o(e,t){return!!new RegExp(t).test(e)}var r=o(e,"[a-z]"),a=o(e,t),s=o(e,n),u=o(e,i),c=!/[\u4e00-\u9fa5]/.test(e);return!!(r&&a&&s||r&&a&&u||u&&a&&s||u&&r&&s)&&!(!c||this.isEmojiCharacter(e))},isEmojiCharacter:function(e){for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(55296<=n&&n<=56319){if(e.length>1){var i=1024*(n-55296)+(e.charCodeAt(t+1)-56320)+65536;if(118784<=i&&i<=128895)return!0}}else if(e.length>1){if(8419==e.charCodeAt(t+1))return!0}else{if(8448<=n&&n<=10239)return!0;if(11013<=n&&n<=11015)return!0;if(10548<=n&&n<=10549)return!0;if(12951<=n&&n<=12953)return!0;if(169==n||174==n||12349==n||12336==n||11093==n||11036==n||11035==n||11088==n)return!0}}},clearRouterpwd:function(){window.localStorage.removeItem("nonce"),window.localStorage.removeItem("oldPwd"),window.localStorage.removeItem("newPwd"),window.localStorage.removeItem("newPwd256"),window.localStorage.removeItem("routerPwd")},setWifi:function(e,t,n,i){var o=this,r=new FormData;r=r.append("file",a()(s)),e.bsd=t.wifi.bsd;var s={locale:e.$t("home_"),name:"Xiaomi_1A1A",encryption:"mixed-psk",txpwr:1,update:t.wifi.update,bw160:t.wifi.bw160,bsd:t.wifi.bsd};0==e.bsd?(s.ssid=t.wifi.ssid,s.name=t.wifi.name,s.password=t.wifi.password,s.ssid5g=t.wifi.ssid5g,s.password5g=t.wifi.password5g,"open"==e.common.getCookie("5g2Flag")&&(s.ssid5g2=t.wifi.ssid5g2,s.password5g2=t.wifi.password5g2)):(s.ssid=t.wifi.ssid,s.password=t.wifi.password,s.name=t.wifi.name),s.nonce=e.common.getCookie("nonce")?e.common.getCookie("nonce"):e.common.Encrypt.init(),s.oldPwd=e.common.getCookie("oldPwd")?e.common.getCookie("oldPwd"):e.common.Encrypt.oldPwd("admin"),s.newPwd=e.common.getCookie("newPwd")?e.common.getCookie("newPwd"):e.common.Encrypt.newPwd("admin",t.routerPwd),s.newPwd256=e.common.getCookie("newPwd256")?e.common.getCookie("newPwd256"):e.common.Encrypt.newPwd256("admin",t.routerPwd),s.routerPwd=e.common.getCookie("routerPwd")?e.common.getCookie("routerPwd"):t.routerPwd;var u={info:"auto_upgrade="+(t.wifi.update?1:0)};w()({method:"post",url:"/api/misystem/vas_switch",headers:{"Content-Type":"application/x-www-form-urlencoded"},timeout:5e4,data:this.makeFormData(u)}).then(function(e){e.status});var c="";"wired"==n?(c="/api/misystem/set_router_lanap_init",s.initialize=1):c="/api/misystem/set_router_normal",w()({method:"post",url:c,timeout:9e4,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:this.makeFormData(s)}).then(function(r){if(0==r.data.code){e.common.setInitLog({type:0,step:i});var a={ssid2g_ssid:s.ssid,ssid2g_passwd:s.password,lan_ip:r.data.ip,cac_time:void 0!=r.data.cac_time?r.data.cac_time:69};0==e.bsd?(a.ssid5g_ssid=s.ssid5g,a.ssid5g_passwd=s.password5g,"open"==e.common.getCookie("5g2Flag")&&(a.ssid5g2_ssid=s.ssid5g2,a.ssid5g2_passwd=s.password5g2)):(a.ssid5g_ssid=s.ssid,a.ssid5g_passwd=s.password,"open"==e.common.getCookie("5g2Flag")&&(a.ssid5g2_ssid=s.ssid,a.ssid5g2_passwd=s.passworord)),a.bw160=s.bw160,a.bsd=e.bsd,e.adminPassword=t.routerPwd,"wired"==n?e.step=3:"guide"==n?e.type=5:e.step=4,e.GLOBAL.adminPassword=t.routerPwd,e.result=a}else"guide"==n?(o.type=3,o.$refs.tip.showTips(r.data.msg||"发生未知错误，请稍后再试~")):e.$router.push({path:"/error2",query:{from:n,currentWan:e.$route.query.currentWan}})})},makeFormData:function(e){var t=new FormData;return o()(e).forEach(function(n){t.append(n,e[n])}),t}}},C6j0:function(e,t){},DpSu:function(e,t){},JzCU:function(e,t,n){"use strict";var i=n("C6j0"),o=n.n(i),r=n("VU/8")(o.a,null,!1,null,null,null);t.default=r.exports},MhDc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var r=n("VU/8")({name:"App"},o,!1,function(e){n("DpSu")},null,null).exports,a=n("/ocq");i.default.use(a.a);var s=new a.a({routes:[{path:"/",redirect:"/login"},{path:"/home",name:"home",component:function(e){return n.e(24).then(function(){var t=[n("gpVb")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/choose_inter",name:"chooseInter",component:function(e){return n.e(23).then(function(){var t=[n("aQEI")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/pppoe",name:"timeTable",component:function(e){return n.e(3).then(function(){var t=[n("Rc8y")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/dhcp",name:"timeTable",component:function(e){return n.e(9).then(function(){var t=[n("Ie3l")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/set_wifi",name:"timeTable",component:function(e){return n.e(7).then(function(){var t=[n("5uqA")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/operator",name:"operator",component:function(e){return n.e(25).then(function(){var t=[n("bEpY")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/repeater",name:"repeater",component:function(e){return n.e(6).then(function(){var t=[n("amZk")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/forget",name:"forget",component:function(e){return n.e(28).then(function(){var t=[n("YCHQ")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/login",name:"login",component:function(e){return n.e(15).then(function(){var t=[n("gjGO")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/diagnose_desp",name:"diagnose_desp",component:function(e){return n.e(17).then(function(){var t=[n("PqVX")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/status",name:"status",component:function(e){return n.e(16).then(function(){var t=[n("t6a8")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/wan_error",name:"wan_error",component:function(e){return n.e(18).then(function(){var t=[n("0QSP")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/network_error",name:"network_error",component:function(e){return n.e(19).then(function(){var t=[n("h1ai")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/help",name:"help",component:function(e){return n.e(22).then(function(){var t=[n("olkT")];e.apply(null,t)}.bind(this)).catch(n.oe)}}]});s.beforeEach(function(e,t,n){"/set_wifi"==e.path?(document.querySelector("body").style.backgroundColor="#efefef",document.getElementById("app").style.height="auto"):(document.querySelector("body").style.backgroundColor="#1a1c2a",document.getElementById("app").style.height="100%"),n()});var u=s,c=n("gfkZ"),p=n("6zzU"),d=n("JzCU"),l=(n("j1ja"),n("bw1o")),f=n.n(l);i.default.use(f.a,{validators:{ipaddr:function(e,t,n){return/^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/.test(e)},wifipassword:function(e,t,n){var i=!/[\u4e00-\u9fa5]/.test(e);return/^[^｀（；＄）｛＼｝]{1,}$/.test(e)&i},checklength:function(e,t,n){for(var i=0,o=0;o<e.length;o++)if(/[\u4e00-\u9fa5]/.test(e[o])?i+=3:i++,i>28)return e=e.substr(0,o),!1;return!0},filterspecialchar:function(e,t,n){return/^.{1,}$/.test(e)},checkip:function(e,t,n){return!!e&&/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(e)}}}),i.default.use(c.a),i.default.prototype.GLOBAL=d.default,i.default.config.productionTip=!1,i.default.prototype.common=p.a,console.log(i.default.prototype.axios),i.default.directive("focus",{inserted:function(e){e.focus()}}),new i.default({el:"#app",router:u,components:{App:r},template:"<App/>"})},"W4G+":function(e,t,n){"use strict";var i=n("//Fk"),o=n.n(i),r=n("mtWM"),a=n.n(r),s=n("mw3O"),u=n.n(s),c=n("6zzU");console.log("production");var p=window.location.protocol+"//"+window.location.host+"/cgi-bin/luci";function d(e,t){var n=e.split("/")[3];return new o.a(function(i,o){"login"==n&&(a.a.defaults.baseURL=p),c.a.getCookie("token")&&"login"!=n&&(a.a.defaults.baseURL=window.location.protocol+"//"+window.location.host+"/cgi-bin/luci/;stok="+c.a.getCookie("token")),a.a.get(e,{params:t}).then(function(e){i(e)}).catch(function(e){o(e)})})}function l(e,t){var n=e.split("/")[3];return"login"==n&&(a.a.defaults.baseURL=p),c.a.getCookie("token")&&"login"!=n&&(a.a.defaults.baseURL=window.location.protocol+"//"+window.location.host+"/cgi-bin/luci/;stok="+c.a.getCookie("token")),new o.a(function(n,i){a.a.post(e,u.a.stringify(t)).then(function(e){n(e)}).catch(function(e){i(e)})})}a.a.defaults.baseURL=p,a.a.defaults.timeout=5e4,a.a.interceptors.request.use(function(e){return console.log("request"),e},function(e){return setTimeout(function(){console.log("requst error")},3e3),o.a.reject(e)});var f=0;a.a.interceptors.response.use(function(e){var t=e.data,n=window.location.href.split("#");return 401==t.code&&"Invalid token"==t.msg&&++f<=1&&confirm("登录状态失效，请您重新登录")&&(window.location.href=n[0]),e},function(e){return o.a.reject(e)}),n.d(t,"b",function(){return m});var m=function(e){return d("/api/misystem/set_log",e)};t.a={get:d,post:l,getRouterInfo:function(e){return d("/api/misystem/router_info",e)},getLoginInfo:function(e){return d("/api/xqsystem/login",e)},getLoginDesp:function(e){return l("/api/xqsystem/login",e)},setPrivacy:function(e){return d("/api/xqsystem/set_privacy_new",e)},getWanType:function(e){return d("/api/xqnetwork/check_wan_type",e)},getPppoeStatus:function(e){return d("/api/misystem/pppoe_status",e)},setRouterNormal:function(e){return l("/api/misystem/set_router_normal",e)},getPppoeCatch:function(e){return d("/api/xqnetwork/pppoe_catch",e)},postRouterLanap:function(e){return l("/api/misystem/set_router_lanap_init",e)},getWifiList:function(e){return d("/api/xqnetwork/wifi_list",e)},setLog:m,postWireless:function(e){return l("/api/misystem/set_router_wifiap_init",e)},postWirelessSet:function(e){return l("/api/xqnetwork/set_wifi_ap",e)},getWanLink:function(e){return d("/api/xqnetwork/wan_link",e)},setDHCP:function(e){return l("/api/misystem/set_router_normal",e)},setWanNew:function(e){return l("/api/xqnetwork/set_wan_new",e)},getConfigResult:function(e){return d("/api/misystem/get_config_result",e)},getIPconflict:function(e){return l("/api/misystem/check_ip_conflict",e)},upgrade:function(e){return d("/api/misystem/vas_switch",e)},getIsAP:function(e){return d("/api/xqnetwork/get_is_ap",e)},getRouterStatus:function(e){return d("/api/misystem/status",e)},getNetPppoeStatus:function(e){return d("/api/xqnetwork/pppoe_status",e)},getNettb:function(e){return function(e){if(e.url)return new o.a(function(t,n){window._jsonCallBack=function(e){clearTimeout(i.timer),t(e)};var i=document.createElement("script");i.type="text/javascript",i.src=""+e.url,document.getElementsByTagName("head")[0].appendChild(i),i.timer=setTimeout(function(){document.getElementsByTagName("head")[0].removeChild(i),clearTimeout(i.timer),window._jsonCallBack=null,e.fail&&e.fail()},1e3)});console.error("Axios.JSONP 至少需要一个url参数!")}(e)},netDiagnoseStart:function(e){return d("/api/misystem/net_diagnose_start",e)},netDiagnoseResult:function(e){return d("/api/misystem/net_diagnose_result",e)},newDhcp:function(e){return l("/api/xqnetwork/set_wan",e)},wifiDetailAll:function(e){return d("/api/xqnetwork/wifi_detail_all",e)},postWifi:function(e){return l("/api/xqnetwork/set_wifi",e)},postWifiTwo:function(e){return l("/api/xqnetwork/set_all_wifi",e)},postWifiTwoTest:function(e){return l("/api/xqnetwork/wifi_detail_all_two",e)},getConflictIp:function(e){return d("/api/misystem/messages",e)},postConflictReq:function(e){return l("/api/misystem/r_ip_conflict",e)},getWifiStatus:function(e){return l("/api/misystem/get_netwan_mode",e)},setLocation:function(e){return l("/api/misystem/set_location",e)},setLanguage:function(e){return l("/api/xqsystem/set_language",e)},getLanguage:function(e){return l("/api/xqsystem/get_languages",e)},setVlan:function(e){return l("/api/misystem/set_ps_service",e)},getNetmod:function(e){return d("/api/xqnetwork/get_netmode",e)},getNewEncryptMode:function(e){return d("/api/xqsystem/init_info",e)},getFeature_info:function(e){return d("/api/misystem/feature_info",e)},CheckSIMStatus:function(e){return d("/api/xqmobile/check_sim_status",e)},CheckSIMPin:function(e){return d("/api/xqmobile/check_sim_pin",e)},SetSIMPin:function(e){return d("/api/xqmobile/set_sim_pin",e)},CheckSIMPuk:function(e){return d("/api/xqmobile/check_sim_puk",e)},GetMobNetInfo:function(e){return d("/api/xqmobile/get_mobile_net_info",e)},SetRouterPwd:function(e){return l("/api/xqdtcustom/set_router_passwd",e)},GetInitStep:function(e){return d("/api/xqdtcustom/get_init_status",e)},hasAgreePolicy:function(e){return d("/api/xqdtcustom/agree_policy",e)},QueryLang:function(e){return d("/api/xqmobile/query_lang",e)},GetCountryBySim:function(e){return d("/api/xqmobile/get_sim_country",e)},GetPrivacyLang:function(e){return d("/api/xqmobile/get_privacy_lang",e)}}},gfkZ:function(e,t,n){"use strict";var i=n("HSQo"),o=n.n(i),r=n("W4G+");t.a=function e(t){e.installed||(e.installed=!0,o()(t.prototype,{axios:{get:function(){return r.a}}}))}}},["MhDc"]);